@{
    ViewData["Title"] = "Ustawienia";
    var licenseName = ViewBag.LicenseName;
    var licenseStatus = ViewBag.LicenseStatus;

    bool isActive = (licenseStatus == "Enabled" || licenseStatus == "Warning");
}

<style>
    :root {
        --bg-color: #fcfcfc;
        --text-main: #1f2937;
        --text-muted: #6b7280;
        --primary-purple: #6264A7;
        --primary-hover: #4e5085;
        --light-purple: #EEF0F8;
        --border-color: #e5e7eb;
        --status-success-bg: #dcfce7;
        --status-success-text: #166534;
        --status-error-bg: #fee2e2;
        --status-error-text: #991b1b;
        --status-warn-bg: #fef3c7;
        --status-warn-text: #92400e;
        --card-shadow: 0 4px 20px rgba(0,0,0,0.05);
        --card-radius: 6px;
    }

    body {
        background-color: var(--bg-color);
        font-family: 'Segoe UI', sans-serif;
    }

    .settings-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 0 20px;
    }

    h2 {
        font-weight: 700;
        color: var(--text-main);
        margin-bottom: 30px;
        text-align: center;
        font-size: 28px;
    }

    .settings-card {
        background: white;
        border-radius: var(--card-radius);
        padding: 25px;
        box-shadow: var(--card-shadow);
        margin-bottom: 20px;
        transition: all 0.2s ease;
        border: 1px solid transparent;
        display: flex;
        align-items: center;
        gap: 20px;
        text-decoration: none;
        color: var(--text-main);
        position: relative;
        overflow: hidden;
    }

    a.settings-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(98, 100, 167, 0.15);
        border-color: var(--primary-purple);
        color: var(--text-main);
    }

    .icon-box {
        width: 50px;
        height: 50px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        flex-shrink: 0;
        background: var(--light-purple);
        color: var(--primary-purple);
    }

    .active-lic .icon-box {
        background-color: var(--status-success-bg);
        color: var(--status-success-text);
    }

    .inactive-lic .icon-box {
        background-color: var(--status-error-bg);
        color: var(--status-error-text);
    }

    .card-content {
        flex: 1;
    }

        .card-content h4 {
            margin: 0 0 4px 0;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-main);
        }

        .card-content p {
            margin: 0;
            color: var(--text-muted);
            font-size: 14px;
        }

    .card-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 700;
        color: var(--text-muted);
        margin-bottom: 4px;
        display: block;
    }

    .arrow-icon {
        margin-left: auto;
        font-size: 20px;
        color: #d1d5db;
        transition: color 0.2s;
    }

    a.settings-card:hover .arrow-icon {
        color: var(--primary-purple);
    }

    .status-badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 11px;
        font-weight: 700;
        margin-top: 8px;
        text-transform: uppercase;
    }

    .active-lic .status-badge {
        background: var(--status-success-bg);
        color: var(--status-success-text);
    }

    .inactive-lic .status-badge {
        background: var(--status-error-bg);
        color: var(--status-error-text);
    }

    .project-info {
        text-align: center;
        margin-top: 50px;
        opacity: 0.7;
        font-size: 12px;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .project-version {
        color: var(--primary-purple);
        font-weight: 700;
    }
</style>

<div class="settings-container">

    <h2>Ustawienia Systemu</h2>

    <div class="settings-card @(isActive ? "active-lic" : "inactive-lic")">
        <div class="icon-box">
            @(isActive ? "On" : "Off")
        </div>
        <div class="card-content">
            <span class="card-label">Licencja Microsoft 365</span>
            <h4>@licenseName</h4>
            <div class="status-badge">
                @(isActive ? "AKTYWNA" : "WYGASŁA / BRAK")
            </div>
        </div>
    </div>

    <a href="/Profile" class="settings-card">
        <div class="icon-box">👤</div>
        <div class="card-content">
            <h4>Twój Profil</h4>
            <p>Edytuj swoje dane, zmień zdjęcie profilowe lub nazwę wyświetlaną</p>
        </div>
        <div class="arrow-icon">➜</div>
    </a>

    <div class="project-info">
        <p>Aplikacja <span class="project-version">MetaMeet v1.0</span></p>
        <p>Projekt Inżynierski 2025/2026</p>
        <p>Uniwersytet Komisji Edukacji Narodowej w Krakowie</p>
        <p>Wydział Informatyka i Bezpieczeństwo</p>
    </div>

</div>